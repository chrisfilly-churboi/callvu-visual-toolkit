<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Callvu Visual Toolkit</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: 'Inter', system-ui, sans-serif; }
  </style>
</head>
<body>
  <div id="root"></div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
  <script type="text/babel">
    const { useState, useRef } = React;

    // Brand Colors
    const colors = {
      teal: '#5BB3B3',
      tealLight: '#7BC4C4',
      tealDark: '#4A9E9E',
      white: '#FFFFFF',
      gray50: '#F9FAFB',
      gray100: '#F3F4F6',
      gray200: '#E5E7EB',
      gray300: '#D1D5DB',
      gray400: '#9CA3AF',
      gray500: '#6B7280',
      gray600: '#4B5563',
      gray700: '#374151',
      gray900: '#111827',
    };

    // Browser Frame
    const BrowserFrame = ({ children, width = 400 }) => (
      <div style={{
        width,
        borderRadius: 12,
        overflow: 'hidden',
        boxShadow: '0 25px 50px -12px rgba(0,0,0,0.15), 0 12px 24px -8px rgba(0,0,0,0.1)',
        background: colors.white,
      }}>
        <div style={{
          height: 36,
          background: colors.teal,
          display: 'flex',
          alignItems: 'center',
          padding: '0 12px',
          gap: 6,
        }}>
          <div style={{ width: 10, height: 10, borderRadius: '50%', background: 'rgba(255,255,255,0.4)' }} />
          <div style={{ width: 10, height: 10, borderRadius: '50%', background: 'rgba(255,255,255,0.4)' }} />
          <div style={{ width: 10, height: 10, borderRadius: '50%', background: 'rgba(255,255,255,0.4)' }} />
        </div>
        <div style={{ padding: 20, background: colors.gray50 }}>
          {children}
        </div>
      </div>
    );

    // Card
    const Card = ({ children, padding = 20, shadow = 'medium', style = {} }) => {
      const shadows = {
        small: '0 1px 3px rgba(0,0,0,0.08)',
        medium: '0 4px 12px rgba(0,0,0,0.08)',
        large: '0 12px 32px rgba(0,0,0,0.12)',
      };
      return (
        <div style={{
          background: colors.white,
          borderRadius: 12,
          padding,
          boxShadow: shadows[shadow],
          ...style,
        }}>
          {children}
        </div>
      );
    };

    // Badge
    const Badge = ({ children, variant = 'light' }) => {
      const bg = variant === 'light' ? `${colors.teal}20` : colors.teal;
      const color = variant === 'light' ? colors.teal : colors.white;
      return (
        <span style={{
          display: 'inline-flex',
          alignItems: 'center',
          gap: 6,
          padding: '6px 14px',
          borderRadius: 20,
          background: bg,
          color: color,
          fontSize: 13,
          fontWeight: 600,
        }}>
          ✨ {children}
        </span>
      );
    };

    // Metric
    const Metric = ({ label, value, size = 'large' }) => (
      <div style={{
        background: colors.gray50,
        borderRadius: 12,
        padding: size === 'large' ? '20px 24px' : '14px 18px',
      }}>
        <div style={{ fontSize: 13, color: colors.gray500, fontWeight: 500, marginBottom: 4 }}>
          {label}
        </div>
        <div style={{ fontSize: size === 'large' ? 32 : 24, fontWeight: 600, color: colors.gray900 }}>
          {value}
        </div>
      </div>
    );

    // Button
    const Button = ({ children, variant = 'primary', fullWidth = false }) => {
      const bg = variant === 'primary' ? colors.teal : colors.gray100;
      const color = variant === 'primary' ? colors.white : colors.gray700;
      return (
        <button style={{
          background: bg,
          color: color,
          border: 'none',
          borderRadius: 24,
          padding: '12px 24px',
          fontSize: 14,
          fontWeight: 600,
          cursor: 'pointer',
          display: 'inline-flex',
          alignItems: 'center',
          gap: 8,
          width: fullWidth ? '100%' : 'auto',
          justifyContent: fullWidth ? 'center' : 'flex-start',
        }}>
          {children}
        </button>
      );
    };

    // Form Field
    const FormField = ({ label }) => (
      <div style={{ marginBottom: 16 }}>
        {label && (
          <label style={{
            display: 'block',
            fontSize: 12,
            color: colors.gray500,
            marginBottom: 6,
            fontWeight: 500,
          }}>
            {label}
          </label>
        )}
        <div style={{
          background: colors.white,
          border: `1px solid ${colors.gray200}`,
          borderRadius: 8,
          padding: '12px 14px',
          fontSize: 14,
          color: colors.gray400,
        }} />
      </div>
    );

    // Radio Option
    const RadioOption = ({ label, checked = false }) => (
      <div style={{
        display: 'flex',
        alignItems: 'center',
        gap: 10,
        padding: '12px 16px',
        background: checked ? `${colors.teal}10` : colors.gray50,
        borderRadius: 8,
        marginBottom: 8,
      }}>
        <div style={{
          width: 18,
          height: 18,
          borderRadius: '50%',
          border: `2px solid ${checked ? colors.teal : colors.gray300}`,
          display: 'flex',
          alignItems: 'center',
          justifyContent: 'center',
        }}>
          {checked && <div style={{ width: 10, height: 10, borderRadius: '50%', background: colors.teal }} />}
        </div>
        <span style={{ fontSize: 14, color: colors.gray700 }}>{label}</span>
      </div>
    );

    // AI Avatar - colorful gradients with abstract AI icons
    const AIAvatar = ({ variant = 'blue', size = 48 }) => {
      const styles = {
        blue: { 
          bg: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
          shadow: 'rgba(102, 126, 234, 0.4)',
        },
        gold: { 
          bg: 'linear-gradient(135deg, #f5af19 0%, #f12711 100%)',
          shadow: 'rgba(245, 175, 25, 0.4)',
        },
        teal: { 
          bg: `linear-gradient(135deg, ${colors.teal} 0%, #3d9999 100%)`,
          shadow: 'rgba(91, 179, 179, 0.4)',
        },
      };
      const s = styles[variant];
      
      return (
        <div style={{
          width: size,
          height: size,
          borderRadius: '50%',
          background: s.bg,
          display: 'flex',
          alignItems: 'center',
          justifyContent: 'center',
          boxShadow: `0 8px 20px ${s.shadow}`,
          position: 'relative',
        }}>
          {/* Abstract sparkle/AI icon */}
          <svg width={size * 0.45} height={size * 0.45} viewBox="0 0 24 24" fill="white">
            <path d="M12 2L13.5 8.5L20 10L13.5 11.5L12 18L10.5 11.5L4 10L10.5 8.5L12 2Z"/>
            <circle cx="18" cy="5" r="2" opacity="0.6"/>
            <circle cx="6" cy="15" r="1.5" opacity="0.5"/>
          </svg>
        </div>
      );
    };
    
    // Small badge for card labels
    const SmallBadge = ({ children, variant = 'teal' }) => {
      const colors_map = {
        teal: { bg: colors.teal, color: 'white' },
        blue: { bg: '#667eea', color: 'white' },
        gold: { bg: '#f5af19', color: 'white' },
      };
      const c = colors_map[variant];
      return (
        <span style={{
          display: 'inline-flex',
          alignItems: 'center',
          gap: 4,
          padding: '4px 10px',
          borderRadius: 12,
          background: c.bg,
          color: c.color,
          fontSize: 11,
          fontWeight: 600,
          letterSpacing: 0.3,
        }}>
          ✦ {children}
        </span>
      );
    };

    // AI Analytics Example
    const AIAnalyticsExample = () => (
      <Card padding={24} shadow="large" style={{ maxWidth: 500 }}>
        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: 20 }}>
          <h2 style={{ fontSize: 20, fontWeight: 700, color: colors.gray900 }}>AI Analytics</h2>
          <Button>⊞ More Analytics</Button>
        </div>
        <Card padding={20} shadow="small" style={{ background: colors.gray50, marginBottom: 24 }}>
          <Badge>AI Recommendations</Badge>
          <p style={{ fontSize: 15, color: colors.gray700, lineHeight: 1.6, margin: '16px 0 0 0' }}>
            To boost engagement, conduct a comprehensive audit of user journey, enhance marketing efforts, simplify onboarding, ensure platform accessibility, and gather user feedback.
          </p>
        </Card>
        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: 16 }}>
          <Metric label="Total Processes" value="26" />
          <Metric label="Total Sessions" value="0" />
          <Metric label="Usage Trend" value="—" size="small" />
          <Metric label="Form Status" value="—" size="small" />
        </div>
      </Card>
    );

    // New Project Example - refined treatment like AI Analytics
    const NewProjectExample = () => (
      <Card padding={28} shadow="large" style={{ width: 580 }}>
        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: 28 }}>
          <div>
            <h2 style={{ fontSize: 20, fontWeight: 700, color: colors.gray900, margin: 0 }}>Create New Project</h2>
            <p style={{ fontSize: 13, color: colors.gray500, margin: '6px 0 0 0' }}>Choose how you'd like to get started</p>
          </div>
          <Button>+ New Project</Button>
        </div>
        
        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: 20 }}>
          <Card padding={24} shadow="small" style={{ background: colors.gray50, border: `1px solid ${colors.gray200}` }}>
            <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', textAlign: 'center', gap: 16 }}>
              <AIAvatar variant="blue" size={56} />
              <div>
                <div style={{ marginBottom: 10 }}>
                  <SmallBadge variant="blue">AI Prompt</SmallBadge>
                </div>
                <h3 style={{ fontSize: 17, fontWeight: 700, color: colors.gray900, margin: '0 0 8px 0', lineHeight: 1.3 }}>
                  Build from Prompt
                </h3>
                <p style={{ fontSize: 13, color: colors.gray500, margin: 0, lineHeight: 1.5 }}>
                  Describe what you want to build using natural language
                </p>
              </div>
            </div>
          </Card>
          
          <Card padding={24} shadow="small" style={{ background: colors.gray50, border: `1px solid ${colors.gray200}` }}>
            <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', textAlign: 'center', gap: 16 }}>
              <AIAvatar variant="gold" size={56} />
              <div>
                <div style={{ marginBottom: 10 }}>
                  <SmallBadge variant="gold">AI PDF</SmallBadge>
                </div>
                <h3 style={{ fontSize: 17, fontWeight: 700, color: colors.gray900, margin: '0 0 8px 0', lineHeight: 1.3 }}>
                  Build from PDF
                </h3>
                <p style={{ fontSize: 13, color: colors.gray500, margin: 0, lineHeight: 1.5 }}>
                  Upload a document for AI to convert automatically
                </p>
              </div>
            </div>
          </Card>
        </div>
      </Card>
    );

    // Account Management
    const AccountManagementExample = () => (
      <Card padding={0} shadow="large" style={{ maxWidth: 320, overflow: 'hidden' }}>
        <div style={{
          background: colors.teal,
          color: colors.white,
          padding: '12px 20px',
          fontSize: 14,
          fontWeight: 600,
        }}>
          Account Management
        </div>
        <div style={{ padding: 20 }}>
          <FormField label="Which account would you like to manage?" />
          <p style={{ fontSize: 13, color: colors.gray600, margin: '0 0 12px 0' }}>
            What would you like to do today?
          </p>
          <RadioOption label="Change Your Contribution" />
          <RadioOption label="Manage Beneficiaries" checked />
          <Button fullWidth style={{ marginTop: 16 }}>Done</Button>
        </div>
      </Card>
    );

    // Line Icons
    const PencilIcon = () => (
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round">
        <path d="M17 3a2.85 2.85 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"/>
        <path d="m15 5 4 4"/>
      </svg>
    );

    const MicIcon = () => (
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round">
        <path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"/>
        <path d="M19 10v2a7 7 0 0 1-14 0v-2"/>
        <line x1="12" x2="12" y1="19" y2="22"/>
      </svg>
    );

    const ArrowIcon = () => (
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <path d="M5 12h14"/>
        <path d="m12 5 7 7-7 7"/>
      </svg>
    );

    // AI Prompt Input
    const AIPromptInput = () => (
      <Card padding={28} shadow="large" style={{ width: 520 }}>
        <div style={{ display: 'flex', gap: 20, alignItems: 'flex-start' }}>
          <AIAvatar variant="teal" size={52} />
          <div style={{ flex: 1 }}>
            <h3 style={{ fontSize: 22, fontWeight: 700, color: colors.gray900, margin: '0 0 20px 0', lineHeight: 1.3 }}>
              What digital experience do you want to build?
            </h3>
          </div>
        </div>
        <div style={{
          display: 'flex',
          alignItems: 'center',
          background: colors.gray50,
          border: `1px solid ${colors.gray200}`,
          borderRadius: 28,
          padding: '14px 18px',
          marginTop: 8,
        }}>
          <span style={{ color: colors.gray400, display: 'flex', alignItems: 'center' }}><PencilIcon /></span>
          <span style={{ flex: 1, color: colors.gray400, fontSize: 15, marginLeft: 12 }}>Ask anything...</span>
          <span style={{ color: colors.gray400, display: 'flex', alignItems: 'center', marginLeft: 12 }}><MicIcon /></span>
          <span style={{ color: colors.teal, display: 'flex', alignItems: 'center', marginLeft: 12 }}><ArrowIcon /></span>
        </div>
      </Card>
    );

    // Main App
    function App() {
      const [transparentBg, setTransparentBg] = useState(false);
      const [activeSection, setActiveSection] = useState('all');
      const [exporting, setExporting] = useState(false);
      
      const analyticsRef = useRef(null);
      const projectRef = useRef(null);
      const formsRef = useRef(null);
      const promptRef = useRef(null);
      const layeredRef = useRef(null);

      const sections = [
        { id: 'all', label: 'All Components' },
        { id: 'analytics', label: 'AI Analytics', ref: analyticsRef },
        { id: 'project', label: 'New Project', ref: projectRef },
        { id: 'forms', label: 'Forms', ref: formsRef },
        { id: 'prompt', label: 'AI Prompt', ref: promptRef },
        { id: 'layered', label: 'Layered', ref: layeredRef },
      ];

      const exportToPNG = async (ref, filename) => {
        if (!ref.current) return;
        setExporting(true);
        try {
          const canvas = await html2canvas(ref.current, {
            backgroundColor: null,
            scale: 2,
            logging: false,
            useCORS: true,
          });
          const link = document.createElement('a');
          link.download = `${filename}.png`;
          link.href = canvas.toDataURL('image/png');
          link.click();
        } catch (err) {
          console.error('Export failed:', err);
          alert('Export failed. Try selecting a single component first.');
        }
        setExporting(false);
      };

      const ExportButton = ({ onClick, disabled }) => (
        <button
          onClick={onClick}
          disabled={disabled}
          style={{
            padding: '6px 12px',
            borderRadius: 6,
            border: 'none',
            background: disabled ? colors.gray200 : colors.teal,
            color: disabled ? colors.gray400 : colors.white,
            fontSize: 11,
            fontWeight: 600,
            cursor: disabled ? 'not-allowed' : 'pointer',
            display: 'inline-flex',
            alignItems: 'center',
            gap: 4,
          }}
        >
          {exporting ? '...' : '↓ PNG'}
        </button>
      );

      return (
        <div style={{
          minHeight: '100vh',
          background: transparentBg ? 'transparent' : 'linear-gradient(135deg, #f5f7fa 0%, #e4e8ec 100%)',
        }}>
          {!transparentBg && (
            <div style={{
              position: 'sticky',
              top: 0,
              background: colors.white,
              borderBottom: `1px solid ${colors.gray200}`,
              padding: '12px 24px',
              display: 'flex',
              alignItems: 'center',
              justifyContent: 'space-between',
              zIndex: 100,
              flexWrap: 'wrap',
              gap: 12,
            }}>
              <div style={{ display: 'flex', gap: 8, flexWrap: 'wrap' }}>
                {sections.map(s => (
                  <button
                    key={s.id}
                    onClick={() => setActiveSection(s.id)}
                    style={{
                      padding: '8px 16px',
                      borderRadius: 20,
                      border: 'none',
                      background: activeSection === s.id ? colors.teal : colors.gray100,
                      color: activeSection === s.id ? colors.white : colors.gray700,
                      fontSize: 13,
                      fontWeight: 600,
                      cursor: 'pointer',
                    }}
                  >
                    {s.label}
                  </button>
                ))}
              </div>
              <div style={{ display: 'flex', alignItems: 'center', gap: 16 }}>
                <span style={{ fontSize: 12, color: colors.gray500 }}>Click ↓ PNG on any component to download</span>
              </div>
            </div>
          )}

          <div style={{ padding: 60, display: 'flex', flexDirection: 'column', gap: 60, alignItems: 'center' }}>
            
            {(activeSection === 'all' || activeSection === 'analytics') && (
              <div>
                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: 16 }}>
                  <h2 style={{ color: colors.gray400, fontSize: 12, textTransform: 'uppercase', letterSpacing: 2, margin: 0 }}>AI Analytics</h2>
                  <ExportButton onClick={() => exportToPNG(analyticsRef, 'ai-analytics')} disabled={exporting} />
                </div>
                <div ref={analyticsRef}>
                  <AIAnalyticsExample />
                </div>
              </div>
            )}

            {(activeSection === 'all' || activeSection === 'project') && (
              <div>
                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: 16 }}>
                  <h2 style={{ color: colors.gray400, fontSize: 12, textTransform: 'uppercase', letterSpacing: 2, margin: 0 }}>New Project</h2>
                  <ExportButton onClick={() => exportToPNG(projectRef, 'new-project')} disabled={exporting} />
                </div>
                <div ref={projectRef}>
                  <NewProjectExample />
                </div>
              </div>
            )}

            {(activeSection === 'all' || activeSection === 'forms') && (
              <div>
                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: 16 }}>
                  <h2 style={{ color: colors.gray400, fontSize: 12, textTransform: 'uppercase', letterSpacing: 2, margin: 0 }}>Account Management</h2>
                  <ExportButton onClick={() => exportToPNG(formsRef, 'account-management')} disabled={exporting} />
                </div>
                <div ref={formsRef}>
                  <AccountManagementExample />
                </div>
              </div>
            )}

            {(activeSection === 'all' || activeSection === 'prompt') && (
              <div>
                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: 16 }}>
                  <h2 style={{ color: colors.gray400, fontSize: 12, textTransform: 'uppercase', letterSpacing: 2, margin: 0 }}>AI Prompt Input</h2>
                  <ExportButton onClick={() => exportToPNG(promptRef, 'ai-prompt')} disabled={exporting} />
                </div>
                <div ref={promptRef}>
                  <AIPromptInput />
                </div>
              </div>
            )}

            {(activeSection === 'layered') && (
              <div>
                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: 16 }}>
                  <h2 style={{ color: colors.gray400, fontSize: 12, textTransform: 'uppercase', letterSpacing: 2, margin: 0 }}>Layered Composition</h2>
                  <ExportButton onClick={() => exportToPNG(layeredRef, 'layered-composition')} disabled={exporting} />
                </div>
                <div ref={layeredRef} style={{ position: 'relative', width: 700, height: 450 }}>
                  <div style={{ position: 'absolute', left: 0, top: 60, transform: 'rotate(-2deg)' }}>
                    <AIPromptInput />
                  </div>
                  <div style={{ position: 'absolute', right: 0, top: 0, transform: 'rotate(1.5deg)' }}>
                    <AccountManagementExample />
                  </div>
                </div>
              </div>
            )}
          </div>
        </div>
      );
    }

    ReactDOM.render(<App />, document.getElementById('root'));
  </script>
</body>
</html>